<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - AAO Dashboard</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:wght@700&family=Cinzel:wght@600;700;900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'aao-gold': '#d1a326',
                        'aao-dark': '#1a1717',
                        'aao-cream': '#f3ebd8',
                    },
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                        display: ['Cinzel', 'serif'],
                    }
                },
            }
        }
    </script>

    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background: url("people.jpg") center/cover no-repeat fixed; 
            min-height: 100vh;
            color: #1a1717;
        }

        .button-3d {
            box-shadow: 0 5px 0 0 #1a1717;
            transition: all 0.15s ease;
        }
        .button-3d:active {
            transform: translateY(5px);
            box-shadow: none;
        }

        input:focus {
            outline: none;
            border-color: #d1a326 !important; 
            box-shadow: 0 0 0 3px rgba(209, 163, 38, 0.5);
        }
    </style>
</head>

<body class="text-aao-dark font-sans">

<header class="fixed top-0 left-0 w-full z-50 bg-aao-dark/90 shadow-lg backdrop-blur-sm">
    <div class="container mx-auto px-4 sm:px-8 py-3 flex justify-between items-center">
        <div class="flex items-center space-x-2">
            <img src="seal.jpg" class="w-12 h-12 rounded-full border-2 border-aao-gold object-cover">
            <span class="font-display text-xl sm:text-2xl text-aao-gold tracking-wider hidden sm:block">AAO</span>
        </div>

        <nav class="flex items-center space-x-6 sm:space-x-10 text-lg font-semibold">
            <a href="dashboard.html" class="text-aao-gold hover:text-white hidden md:block">Home</a>
            <a href="myspace.html" class="text-aao-gold hover:text-white hidden md:block">My Space</a>
            <a href="#" class="text-white font-extrabold border-b-2 border-aao-gold hidden md:block scale-110">Profile</a>
            <a href="index.html" class="text-aao-gold hover:text-white hidden md:block">Log Out</a>
        </nav>
    </div>
</header>

<!-- MAIN CONTENT -->
<div class="container mx-auto pt-24 sm:pt-28 w-11/12 lg:w-4/5 flex flex-col lg:flex-row gap-8 pb-16">

    <!-- LEFT SIDE -->
    <div class="left-box w-full lg:w-1/2 bg-aao-gold/75 p-6 sm:p-8 rounded-xl border-4 border-aao-gold shadow-2xl">

        <h1 class="text-4xl font-display font-bold text-center mb-6">Student Profile</h1>

        <div class="id-box bg-white p-6 rounded-xl border-t-8 border-aao-gold shadow-md w-full mb-6">
            <div class="flex flex-col md:flex-row items-start gap-6">

                <!-- PHOTO -->
                <div class="flex-shrink-0 flex flex-col items-center">
                    <img id="mainMascot" src="tiger no bg.png"
                         class="w-36 h-36 object-cover border-4 border-aao-dark rounded-lg bg-white">

                    <input type="file" id="mascotFileInput" accept="image/*" class="hidden">

                    <button id="changeMascotBtn" 
                        class="mt-2 text-sm font-semibold text-aao-dark bg-aao-gold px-3 py-1 rounded-full button-3d hover:bg-aao-dark hover:text-white">
                        Change Photo
                    </button>
                </div>

                <!-- TEXT DETAILS -->
                <div class="flex-1 w-full">
                    <img id="sideAttributeMascot" src="ardent.png"
                         class="w-28 h-28 object-contain mx-auto md:mx-0">

                    <div class="mt-3 w-full text-base leading-relaxed">

                        <!-- UPDATED WITH IDs -->
                        <p><span class="font-semibold">Name:</span> <span id="displayName">Elena, Allesa</span></p>
                        <p><span class="font-semibold">Birthday:</span> <span id="displayBirthday">01/08/06</span></p>
                        <p><span class="font-semibold">School ID:</span> <span id="displaySchoolID">240###</span></p>
                        <p><span class="font-semibold">Year & Course:</span> <span id="displayCourse">BSMA 2C</span></p>
                    
                    </div>
                </div>

            </div>
        </div>

        <!-- STICKER GRID -->
        <h2 class="text-2xl font-display font-bold text-center border-b-2 border-aao-dark pb-2 mb-4">Select Your Attribute Sticker</h2>

        <div class="category-box grid grid-cols-2 gap-5">
            <div class="category bg-white p-2 rounded-lg border-2 border-aao-gold cursor-pointer shadow-xl"
                 data-mascot="ardent.png">
                <img src="ardent.png" class="h-24 w-full object-contain">
            </div>

            <div class="category bg-white p-2 rounded-lg border-2 border-aao-gold cursor-pointer shadow-xl"
                 data-mascot="tigre.png">
                <img src="tigre.png" class="h-24 w-full object-contain">
            </div>

            <div class="category bg-white p-2 rounded-lg border-2 border-aao-gold cursor-pointer shadow-xl"
                 data-mascot="accountancy.png">
                <img src="accountancy.png" class="h-24 w-full object-contain">
            </div>

            <div class="category bg-white p-2 rounded-lg border-2 border-aao-gold cursor-pointer shadow-xl"
                 data-mascot="management.png">
                <img src="management.png" class="h-24 w-full object-contain">
            </div>
        </div>
    </div>

    <!-- RIGHT SIDE FORM -->
    <div class="right-box w-full lg:w-1/2 bg-aao-cream p-8 rounded-xl border-4 border-aao-gold shadow-2xl">

        <h2 class="text-3xl font-bold mb-8 border-b-4 border-aao-gold pb-2 font-display">Edit Profile Details</h2>
        
        <div class="mb-6">
            <label class="font-bold mb-2 block">Name / Nickname:</label>
            <input id="inputName" type="text" value="Elena, Allesa"
                class="w-full p-3 text-lg border-2 border-aao-dark bg-white rounded-md">
        </div>

        <div class="mb-6">
            <label class="font-bold mb-2 block">Birthday:</label>
            <input id="inputBirthday" type="date" value="2006-01-08"
                class="w-full p-3 text-lg border-2 border-aao-dark bg-white rounded-md">
        </div>

        <div class="mb-6">
            <label class="font-bold mb-2 block" for="inputSchoolID">School ID:</label>
            <input id="inputSchoolID" type="text" value="240###"
                class="w-full p-3 text-lg border-2 border-aao-dark bg-white rounded-md">
        </div>

        <div class="mb-6">
            <label class="font-bold mb-2 block">Year & Course:</label>
            <input id="inputCourse" type="text" value="BSMA 2C"
                class="w-full p-3 text-lg border-2 border-aao-dark bg-white rounded-md">
        </div>
        
        <button id="saveBtn"
            class="w-full p-4 text-xl font-bold text-white bg-aao-dark rounded-lg button-3d">
            SAVE PROFILE
        </button>
    </div>
</div>


<!-- SCRIPT SECTION -->
<script>
document.addEventListener('DOMContentLoaded', function() {

    function loadProfileData() {
        const profileData = JSON.parse(localStorage.getItem('userProfile'));
        if (profileData) {
            document.getElementById("displayName").textContent = profileData.name;
            const d = new Date(profileData.birthday);
            const formattedBirthday =
                `${String(d.getMonth()+1).padStart(2,'0')}/` +
                `${String(d.getDate()).padStart(2,'0')}/` +
                `${String(d.getFullYear()).toString().slice(2)}`;
            document.getElementById("displayBirthday").textContent = formattedBirthday;
            document.getElementById("displayCourse").textContent = profileData.course;
            document.getElementById("displaySchoolID").textContent = profileData.schoolID;
            document.getElementById("inputName").value = profileData.name;
            document.getElementById("inputBirthday").value = profileData.birthday;
            document.getElementById("inputCourse").value = profileData.course;
            document.getElementById("inputSchoolID").value = profileData.schoolID;
            mainMascot.src = profileData.mainMascot;
            sideAttributeMascot.src = profileData.sideAttributeMascot;
        }
    }

    /* --------------------------
       STICKER SELECTION
    -------------------------- */
    const attributeCards = document.querySelectorAll('.category');
    const sideAttributeMascot = document.getElementById('sideAttributeMascot');

    attributeCards.forEach(card => {
        card.addEventListener('click', function() {
            attributeCards.forEach(c => c.classList.remove('ring-4', 'ring-aao-gold', 'scale-105'));
            this.classList.add('ring-4', 'ring-aao-gold', 'scale-105');
            sideAttributeMascot.src = this.dataset.mascot;
            const profileData = JSON.parse(localStorage.getItem('userProfile')) || {};
            profileData.sideAttributeMascot = this.dataset.mascot;
            localStorage.setItem('userProfile', JSON.stringify(profileData));
        });
    });

    attributeCards[0].classList.add('ring-4', 'ring-aao-gold', 'scale-105');


    /* --------------------------
       PHOTO UPLOAD
    -------------------------- */
    const mascotFileInput = document.getElementById('mascotFileInput');
    const changeMascotBtn = document.getElementById('changeMascotBtn');
    const mainMascot = document.getElementById('mainMascot');

    changeMascotBtn.addEventListener('click', () => mascotFileInput.click());

    mascotFileInput.addEventListener('change', e => {
        if (!e.target.files.length) return;
        const reader = new FileReader();
        reader.onload = event => {
            mainMascot.src = event.target.result;
            const profileData = JSON.parse(localStorage.getItem('userProfile')) || {};
            profileData.mainMascot = event.target.result;
            localStorage.setItem('userProfile', JSON.stringify(profileData));
        }
        reader.readAsDataURL(e.target.files[0]);
    });


    /* --------------------------
       SAVE PROFILE â€” UPDATE DISPLAY
    -------------------------- */

    const saveBtn = document.getElementById("saveBtn");

    saveBtn.addEventListener("click", function () {

        const newName = document.getElementById("inputName").value;
        const newBirthday = document.getElementById("inputBirthday").value;
        const newCourse = document.getElementById("inputCourse").value;
        const newSchoolID = document.getElementById("inputSchoolID").value;

        document.getElementById("displayName").textContent = newName;

        const d = new Date(newBirthday);
        const formattedBirthday =
            `${String(d.getMonth()+1).padStart(2,'0')}/` +
            `${String(d.getDate()).padStart(2,'0')}/` +
            `${String(d.getFullYear()).toString().slice(2)}`;

        document.getElementById("displayBirthday").textContent = formattedBirthday;
        document.getElementById("displayCourse").textContent = newCourse;
        document.getElementById("displaySchoolID").textContent = newSchoolID;

        const profileData = {
            name: newName,
            birthday: newBirthday,
            course: newCourse,
            schoolID: newSchoolID,
            mainMascot: mainMascot.src,
            sideAttributeMascot: sideAttributeMascot.src
        };

        localStorage.setItem('userProfile', JSON.stringify(profileData));

        saveBtn.textContent = "Profile Updated!";
        saveBtn.style.background = "#166534";

        setTimeout(() => {
            saveBtn.textContent = "SAVE PROFILE";
            saveBtn.style.background = "";
        }, 1500);
    });


    loadProfileData();

});
</script>


</body>
</html>
